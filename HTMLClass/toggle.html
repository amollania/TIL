<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Toggle</title>

    <style>
        input[type="button"] {
            padding: 15px 25px;
            display: table;
            margin: 0 auto;
        }

        img {
            display: table;
            margin: 0 auto;
        }
    </style>

</head>

<body>
    <input id="id_btn" type="button" value="Hidden" onclick="f_toggle()"><hr>
    <img id="id_img" src="./images/a4.jpg" width="400" height="400" alt="">


    <script>
        var v_img = document.getElementById("id_img");
        var btn = document.getElementById("id_btn");
        var v_toggle = true; // 현재 이미지가 보이고 있으므로 true, 감추기는 false
        // 경우의 수에 따라 필요한 변수 갯수가 달라짐, 상태가 17가지라면, 2의 4승 16, 2의 5승 32 이므로,
        // 4개는 부족, 5개여야만 함.

        function f_toggle() {
            if(v_toggle) {
                v_img.style.visibility = "hidden"; // 영역은 차지하지만 보이지 않음.
                btn.value ="Appear";
                v_toggle = false;
            } else {
                v_img.style.visibility = "visible";
                btn.value ="Hidden";
                v_toggle = true;
            }
            f_change1();
        }

        function f_change1() {
            v_img.style.filter = "invert(0)";
            setTimeout(f_change2,10);
        }

        function f_change2() {
            v_img.style.filter = "invert(1)";
            setTimeout(f_change1, 10);
        }
    </script>

</body>

</html>